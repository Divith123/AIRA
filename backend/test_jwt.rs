use std::env; use jsonwebtoken::{encode, Header, EncodingKey}; use serde::{Serialize, Deserialize}; #[derive(Serialize, Deserialize)] struct Claims { iss: String, exp: usize, roomCreate: Option<bool>, roomList: Option<bool> } fn main() { let api_key = env::var("LIVEKIT_API_KEY").unwrap(); let api_secret = env::var("LIVEKIT_API_SECRET").unwrap(); let claims = Claims { iss: api_key, exp: 1770700000, roomCreate: Some(true), roomList: Some(true) }; let token = encode(&Header::default(), &claims, &EncodingKey::from_secret(api_secret.as_ref())).unwrap(); println!("{}", token); }
